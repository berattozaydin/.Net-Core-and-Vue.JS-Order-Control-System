import{b as o,y as w,w as m,d as k,O,o as g,a as y,f as x,a9 as D,aa as R}from"./index.aafe1f7a.js";const _={__name:"WorkOrderItemChartReport",props:{customerOrderItemId:String,workOrderItemId:Number,receiptId:Number,autoRefresh:{type:Boolean,default:!1}},setup(v){const e=v;let I;const a=o([]),s=o([]),c=o([{name:"S\u0131cakl\u0131k",data:[]},{name:"Hedef S\u0131cakl\u0131k",data:[]}]),t=o({chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:0,hover:{sizeOffset:6}},xaxis:{categories:[]},yaxis:{title:{text:"S\u0131cakl\u0131k"}},grid:{borderColor:"#f1f1f1"}}),p=w(),f=R();m(()=>e.customerOrderItemId,async()=>{await i()}),m(()=>e.workOrderItemId,async()=>{await i(),await n()}),m(()=>e.receiptId,async()=>{await n()}),k(async()=>{e.autoRefresh==!0?I=setInterval(async()=>{await i()},2e3):await i(),await n()}),O(()=>{clearInterval(I)});async function i(){e.customerOrderItemId?a.value=await f.GetFurnaceDataByCustomerOrderItem(e.customerOrderItemId):e.workOrderItemId&&(a.value=await f.GetFurnaceDataByWorkOrderItem(e.workOrderItemId)),c.value[0].data=a.value,h()}async function n(){console.log("RE\xC7ETE :>> ",e.workOrderItemId),e.receiptId?s.value=await p.getReceiptData(e.receiptId):e.workOrderItemId&&(s.value=await p.getReceiptDataByWorkOrderItem(e.workOrderItemId)),c.value[1].data=s.value,h()}function h(){var l;let r=s.value.length;if(a.value.length>r&&(r=a.value.length),((l=t.value.xaxis.categories)==null?void 0:l.length)!=r){let d=[];for(let u=0;u<r;u++)d.push(u*5+". dk");t.value.xaxis.categories=d,t.value={...t.value,xaxis:{categories:d}}}}return(r,l)=>(g(),y(x(D),{type:"line",height:"350",width:"100%",options:t.value,series:c.value},null,8,["options","series"]))}};export{_};
